import sys
from db2interface  import *


if __name__ == "__main__":

	dbconfig=dbconfig()
	db2 = dbinterface(dbconfig)
	boolean  = 0
	boolean1 = 0
	boolean2 = 0
	session = 0
	scontext = ""
	tcontext = ""
	for arg  in sys.argv:
		if boolean == 1:
			session = arg
			boolean = 0
		if arg == "-i":
			boolean = 1
		if boolean1 == 1:
			scontext = arg			
			boolean1 = 0
		if arg == "-s":
			boolean1 = 1
		if boolean2 == 1:
			tcontext = arg			
			boolean2 = 0
		if arg == "-t":
			boolean2= 1
	if boolean == 0:
		session = db2.newIdSession(1)
	
	if scontext != "" and tcontext != "" and session > 0:
		db2.AccessForContext(session, scontext, tcontext)
	else:
		print "syntaxe : -i id -s scontext -t tcontext"
