import sys
from db2interface  import *


if __name__ == "__main__":

	dbconfig=dbconfig()
	db2 = dbinterface(dbconfig)
	boolean  = 0
	boolean1 = 0
	boolean2 = 0
	session = 0
	access = ""
	scontext = ""
	for arg  in sys.argv:
		if boolean2 == 1:
			scontext = arg
			boolean2 = 0
		if boolean == 1:
			session = arg
			boolean = 0
		if arg == "-i":
			boolean = 1
		if arg == "-s":
			boolean2 = 1
		if boolean1 == 1:
			access = arg			
			boolean1 = 0
		if arg == "-a":
			boolean1 = 1
	if boolean == 0:
		session = db2.newIdSession(1)
	if scontext != "" and  access != "" and session > 0:
		db2.SpecificAccessForScontext(session, access, scontext)
	elif access != "" and session > 0:
		db2.SpecificAccess(session, access)
	else:
		print "syntaxe : -i id -a access  ou -i id -a access -s scontext" 
